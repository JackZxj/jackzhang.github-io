<!DOCTYPE html>
<html>
  <head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#33363b">
    <meta name="msapplication-TileColor" content="#33363b">
    
    
    
    <meta name="keywords" content="Life, ARIA, Hexo">
    
    
    <link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png">
    
    
    <link rel="icon" type="image/png" sizes="192x192" href="/favicons/android-chrome-192x192.png">
    
    
    <link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png">
    
    
    <link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png">
    
    
    <link rel="mask-icon" href="/favicons/safari-pinned-tab.svg" color="#33363b">
    
    
    <link rel="manifest" href="/favicons/site.webmanifest">
    
    
    <meta name="msapplication-config" content="/favicons/browserconfig.xml">
    
    
    <link rel="alternate" href="/atom.xml" title="啊啊拉格朗日" type="application/atom+xml">
    
    
    <link rel="shortcut icon" type="image/x-icon" href="/favicons/favicon.ico">
    
    
    <link rel="stylesheet" type="text/css" href="/css/normalize.css">
    <link rel="stylesheet" type="text/css" href="/css/index.css">
    
    <link rel="stylesheet" type="text/css" href="/css/sidebar.css">
    
    
<link rel="stylesheet" type="text/css" href="/css/page.css">
<link rel="stylesheet" type="text/css" href="/css/post.css">

    <link rel="stylesheet" type="text/css" href="/css/custom.css">
    <link rel="stylesheet" type="text/css" href="/css/atom-one-dark.css">
    <link rel="stylesheet" type="text/css" href="/css/lightgallery.min.css">
    <script type="text/javascript" src="/js/jquery.min.js"></script>
    <script defer type="text/javascript" src="/js/util.js"></script>
    <script defer type="text/javascript" src="/js/scrollspy.js"></script>
    <script defer type="text/javascript" src="/js/fontawesome-all.min.js"></script>
    <script defer type="text/javascript" src="/js/lightgallery.min.js"></script>
    <script defer type="text/javascript" src="/js/lg-fullscreen.min.js"></script>
    <script defer type="text/javascript" src="/js/lg-hash.min.js"></script>
    <script defer type="text/javascript" src="/js/lg-pager.min.js"></script>
    <script defer type="text/javascript" src="/js/lg-thumbnail.min.js"></script>
    <script defer type="text/javascript" src="/js/lg-zoom.min.js"></script>
    
    <script defer src="/js/busuanzi.pure.mini.js"></script>
    
    
    <script defer type="text/javascript" src="/js/search.js"></script>
    <script type="text/javascript">
    $(document).ready(function () {
      var searchPath = "search.xml";
      if (searchPath.length === 0) {
        searchPath = "search.xml";
      }
      var path = "/" + searchPath;
      searchFunc(path, "search-input", "search-result");
    });
    </script>
    
    
    <script defer type="text/javascript" src="/js/index.js"></script>
    
    <script defer type="text/javascript" src="/js/custom.js"></script>
    <title>Golang学习笔记ch2 | 啊啊拉格朗日 - Hey! 似李！</title>
  </head>
  <body itemscope itemtype="http://schema.org/WebPage" lang="zh_CN" data-spy="scroll" data-target=".list-group">
    
<header id="header" class="header" style="background: #33363b;">
  <div class="container">
    <div class="header-container">
      <div class="header-title">
        <h1 class="title"><a href="/">啊啊拉格朗日</a></h1>
        <h2 class="subtitle">Hey! 似李！</h2>
      </div>
      <div class="logo">
        <img src="/images/mylogo.gif" alt="logo">
      </div>
    </div>
    
<nav id="nav" class="nav">
  <a id="nav-toggle" class="nav-toggle"><i class="fas fa-bars"></i></a>
  <ul id="menu">
    
    <li><a href="/">首页</a></li>
    
    <li><a href="/archives/">归档</a></li>
    
    <li><a href="/categories/">分类</a></li>
    
    <li><a href="/tags/">标签</a></li>
    
    <li><a href="/game/">Game</a></li>
    
  </ul>
</nav>


  </div>
</header>


    <main id="main" class="main">
      <div class="container">
        <div class="main-container">
          <div class="content">
            
<div id="post" class="post">
  
  <article class="post-container card" itemscope itemtype="http://schema.org/Article">
    <div class="post-block">
      <link itemprop="mainEntityOfPage" href="https://jzwontdie.xyz/2019/03/06/golang学习笔记ch2/">
      <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
       <meta itemprop="name" content="Jack Zhang">
       <meta itemprop="description" content="I am the bone of salted fish, <br/> fish is my body&salt is my blood.">
       <meta itemprop="image" content="/images/myavatar.png">
      </span>
      <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
       <meta itemprop="name" content="啊啊拉格朗日">
      </span>
    </div>
    <header class="post-header">
      <h1 class="post-title" itemprop="name headline">Golang学习笔记ch2</h1>
      <div class="post-meta">
        
        <span class="post-date">
          <i class="far fa-calendar-plus"></i><span><time title="post-date" itemprop="dateCreated datePublished" datetime="2019-03-06T20:57:14+08:00">2019-03-06 20:57:14</time></span>
        </span>
        
        
        
        <span class="post-meta-divider divider">|</span>
        
        <span class="post-categories">
          
          <i class="far fa-folder-open"></i><span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Golang/" itemprop="url" rel="index"><span itemprop="name">Golang</span></a></span>
        </span>
        
        
        
        
      </div>
    </header>
    <main class="post-main" itemprop="articleBody">
      <p>依旧是Go语言的学习。虽然已经有了一定的Java基础，但是Go的一些结构特性还真是别具特色。。。从Java语言的特性切换到Go过来虽然说能够很快的理解并接受，但是用的时候还是回感慨这些设计还真是精妙，甚至有种编程语言本该如此设计的感觉。。</p>
<p>本篇的备注信息较多，方便给初学者一个参考，也方便我自己过后回顾的时候能够很快回忆起来。<br><a id="more"></a></p>
<h2 id="ch2-程序结构"><a href="#ch2-程序结构" class="headerlink" title="ch2 程序结构"></a>ch2 程序结构</h2><p>本章的主要内容是Go语言的编程结构，一些基础的我可能没有特别强调，但是对于Go的包、作用域、特殊用法等方面我这边做了一些测试。当然主要是按书上的例子实现的。下面直接放代码，建议参考注释看代码。</p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><p><strong>ch2/GoStruct.go</strong><br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br></pre></td><td class="code"><pre><code class="hljs Golang">package main<br><br>import (<br>  "fmt"<br>  "strconv"<br><br>  "flag"<br>  "strings"<br><br>  "ch2/Kaierwen"<br>)<br><br>// 多变量声明<br>func ShengMing() &#123;<br>  // 在多变量的短声明中，至少要有一个新变量的声明，如果有重复变量的话会当作赋值，如：<br>  // strconv.Atoi(s string) (i int, err error)<br>  num1, err := strconv.Atoi("1209")<br>  num2, err := strconv.Atoi("12a1")<br>  // 上述两条语句都声明并赋值了err变量，但是实际上只有第一条成功声明了err并进行了赋值，第二句仅作为赋值作用<br>  if err == nil &#123;<br>    fmt.Printf("num2 + num1 = %d\n", num2 + num1)<br>  &#125;<br>  // 下面的语句会出现编译失败，因为没有新变量出现在声明中<br>  // num2, err := strconv.Atoi("1211")<br>&#125;<br><br>// 指针的一些特殊使用---&gt;用在标识<br>// 全局变量只能使用var声明，不能短声明<br>var n = flag.Bool("n", false, "omit trailing newline")    //自定义标识符，用于换行<br>var sep = flag.String("s", " ", "separator")        //自定义标识符，用于输出多参数<br>func echo1() &#123;<br>  // flag需要先调用Parse来使得自定义标识生效<br>  flag.Parse()<br>  // 将命令行参数输出，多参数之间用sep隔开，sep若没有声明，则默认是全局变量里声明的空格<br>  fmt.Print(strings.Join(flag.Args(), *sep))<br>  // 如果没有-n参数就执行换行，如果有-n就不执行换行<br>  if !*n &#123;<br>    fmt.Print("\n")<br>  &#125;<br>&#125;<br><br>// 指针的另一种声明方式<br>func newPointer() &#123;<br>  // new声明一个地址变量并默认赋该类型的初值<br>  p := new(int)<br>  fmt.Println("指针*p =",*p)<br>  // new不是关键值，因此可以可以声明变量名为new，则此时就无法使用new声明指针<br>&#125;<br><br>// 高效的多重赋值<br>func zuiDaGongYinShu() &#123;<br>  x, y := 456,2661<br>  if x &lt; y &#123;<br>    // 两数交换<br>    x, y = y, x<br>  &#125;<br>  for y != 0 &#123;<br>    x, y = y, x % y<br>  &#125;<br>  fmt.Printf("最大公约数为%d\n",x)<br>&#125;<br><br>// 类型声明<br>// 所有的类型都拥有一个强制转换类型的函数 T(),T为类型名<br>type Celsius float64<br>type Fahrenheit float64<br><br>const (<br>    AbsoluteZeroC Celsius = -273.15<br>    FreezingC Celsius = 0<br>    Boiling Celsius = 100<br>)<br><br>func CtoF(c Celsius) Fahrenheit &#123;<br>  return Fahrenheit(c * 9 / 5 + 32)     // 强制类型转换，不是函数的意思<br>&#125;<br><br>func FtoC(f Fahrenheit) Celsius &#123;<br>  return Celsius((f - 32) * 5 / 9)     // 强制类型转换，不是函数的意思<br>&#125;<br><br>// 相当于重写Java中的toString()方法，用于自定义输出格式<br>func (c Celsius) String() string &#123;<br>  return fmt.Sprintf("%g°C", c)<br>&#125;<br><br>func TestType() &#123;<br>  var a Celsius = 0<br>  var b Fahrenheit = 0<br>  // 在强制转换时，不改变底层的数值，如下所示<br>  fmt.Println("Celsius(a) == Fahrenheit(b) ?", a == Celsius(b))       //输出true<br>  // 定义的类型支持底层的基本运算法则，如<br>  fmt.Println("Celsius(a) - Celsius(b) = ?", a - Celsius(b))        // 输出true<br>  // 显示调用String()方法<br>  fmt.Println("显式：a =", a.String())<br>  // 隐式调用String()方法<br>  fmt.Printf("隐式：a = %v, %s\n", a, a)<br>  fmt.Println("a = ", a)<br>  // 不调用String()方法<br>  // 由此可以看出自定义类型可以直接调用其原本类型的标准输出方式输出<br>  fmt.Printf("不调用：a = %g, %.2f\n", a, a)<br>&#125;<br><br>// go语言的特殊规则---包级别<br>func TestPackage() &#123;<br>  k := Kaierwen.Kai(100)<br>  fmt.Printf("k = %v, Zero = %s, CtoK = %s\n", k, Kaierwen.Zero, Kaierwen.CtoK)<br>  <br>  // 只有首字母大写的才能被包外的包调用<br>  // n := Kaierwen.num(100)<br>  // fmt.Printf("n = %v, zero = %s, ctoK = %s\n", n, Kaierwen.zero, Kaierwen.ctoK)<br><br>  Kaierwen.PaTest()<br>&#125;<br><br>// 同名变量的处理规则<br>var g = "g"<br>func f() string &#123;<br>  return "FFF"<br>&#125;<br>func NameTest() &#123;<br>  fmt.Println(f, f())   // 输出包内函数的地址和函数运行结果<br>  f := "f"        // 覆盖包内函数，重新被定义为字符串"f"<br>  fmt.Println(f)      // 输出"f"<br>  // fmt.Println(f())   // 被重写后无法调用包内函数<br>  if true &#123;<br>    f := "fff"      // 块内局部变量覆盖函数的局部变量<br>    fmt.Println(f)<br>  &#125;<br>  fmt.Println(f)      // 重新输出函数内局部变量<br><br>  // 覆盖的骚操作（实际上工程中还是不要这么用，还是按照取名规范来）<br>  x := "hello"<br>  for _, x := range x &#123;<br>    x := x + 'A' - 'a'<br>    fmt.Printf("%c", x)<br>  &#125;<br>  fmt.Println()<br><br>  fmt.Println(g)      // 没有被覆盖的情况<br>&#125;<br><br>func gg() string &#123;<br>  return "GGG"<br>&#125;<br><br>// if作用域的测试<br>func LandTest() &#123;<br>  if x := f(); x == "fff" &#123;<br>    fmt.Println("x==fff")<br>  &#125; else if y := gg(); x == y &#123;<br>    fmt.Println("x==y")<br>  &#125; else &#123;<br>    fmt.Println("x =", x, "\ty =",y)<br>  &#125;<br>  // fmt.Println(x, y)    //无法调用，因为不在变量声明的作用范围内<br>&#125;<br><br><br>// 灵活的switch语句<br>func SwitchTest() &#123;<br>  switch f() &#123;<br>  // case是自带break的，case按照从上到下寻找到第一个匹配的后就自动退出<br>  case "fff":<br>    fmt.Println("switch : fff")<br>  case "FFF":<br>    fmt.Println("switch : FFF")<br>  // 不是必选项<br>  default :<br>    fmt.Println("switch : not f()")<br>  &#125;<br><br>  y := 2<br>  // 无标签switch，选择判断结果为true的结果执行<br>  switch &#123;<br>  // case支持多匹配<br>  case y == 1, y != 2:<br>    fmt.Println("y==1 or y!=2")<br>  case y == 2:<br>    fmt.Println("y==2")<br>  &#125;<br><br>  //type switch<br>  var x interface&#123;&#125;<br>  <br>  switch i := x.(type) &#123;<br>  case int:<br>    fmt.Println("x 是 int 型")<br>  case float64:<br>    fmt.Println("x 是 float64 型")<br>  case func(int) float64:<br>    fmt.Println("x 是 func(int) 型")<br>  case bool, string:<br>    fmt.Println("x 是 bool 或 string 型" )<br>  case nil:<br>    fmt.Println("x 的类型 :%T",i)<br>  default:<br>    fmt.Println("未知型")     <br>  &#125;<br><br>  // fallthrough 特别标记符在switch中的作用<br>  // fallthrough可以忽略下一个case的判断直接执行下一个case的内容<br>  switch &#123;<br>  case false:<br>    fmt.Println("1,false")<br>    fallthrough<br>  case true:<br>    fmt.Println("2,true")<br>    fallthrough<br>  case false:<br>    fmt.Println("3,false")<br>    fallthrough<br>  case true:<br>    fmt.Println("4,true")<br>    if y == 2 &#123;<br>      fmt.Println("可以通过break来提前结束fallthrough")<br>      break<br>    &#125;<br>    // 或者取消fallthrough标记来结束执行下一条case<br>    fallthrough<br>  case false:<br>    fmt.Println("5, false")<br>  &#125;<br><br>&#125;<br><br>var myNum int<br><br>// 特别的作用域覆盖问题<br>// 当在块内要调用块外变量时，需要特别注意不能使用短声明对多个变量声明<br>func init() &#123;<br>  // 使用下面的myNum会被声明成局部变量<br>  // 造成的最大影响是全局变量不会被按照预期的值而初始化<br>  // myNum, err := strconv.Atoi("123")<br>  // 正确的初始化(使用var声明新变量，然后使用多赋值改变值）：<br>  var err error<br>  myNum, err = strconv.Atoi("123")<br>  if err != nil &#123;<br>    fmt.Println("error num!")<br>  &#125;<br>&#125;<br><br>func main() &#123;<br>  ShengMing()<br><br>  echo1()<br><br>  newPointer()<br><br>  zuiDaGongYinShu()<br><br>  TestType()<br><br>  TestPackage()<br><br>  NameTest()<br><br>  LandTest()<br><br>  SwitchTest()<br><br>  fmt.Println("myNum =", myNum)<br>&#125;<br></code></pre></td></tr></table></figure></p>
<p><strong>ch2/Kaierwen/Kaierwen.go</strong><br><figure class="highlight Golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs Golang"><span class="hljs-keyword">package</span> Kaierwen<br><span class="hljs-comment">// 包名、文件名、文件夹名相同才能调用包(**--存疑--**)</span><br><span class="hljs-comment">// 补充（3月9日）：</span><br><span class="hljs-comment">// 文件夹名实际上就是包名，go的调用包需要保证包内有一个与包名同名的文件，作为该包的调用入口</span><br><span class="hljs-comment">// 包内的方法或者变量在实际工程中，并不一定全部都要声明在同一个文件里</span><br><span class="hljs-comment">// 在保证必须只有一个同名文件的基础下，可以按照实际功能在本包内创建若干辅助文件</span><br><span class="hljs-comment">// 只要文件内声明属于该包，那么就可以被该包调用</span><br><span class="hljs-comment">// </span><br><span class="hljs-comment">// 另外，包内依然可以声明包，例如golang的官方包hash</span><br><span class="hljs-comment">// hash包下不仅有hash.go，还有adler32、crc32、crc64、fnv四个包内包</span><br><span class="hljs-comment">// 通过"hash/adler32","hash/crc32","hash/crc64","hash/fnv"来调用包内包</span><br><br><span class="hljs-keyword">import</span> <span class="hljs-string">"fmt"</span><br><span class="hljs-comment">// 包外可见类型</span><br><span class="hljs-keyword">type</span> Kai <span class="hljs-keyword">float64</span><br><span class="hljs-comment">// 包外不可见类型</span><br><span class="hljs-keyword">type</span> num <span class="hljs-keyword">int8</span><br><br><span class="hljs-keyword">const</span>(<br>  <span class="hljs-comment">//包外可见常量</span><br>    Zero Kai = <span class="hljs-number">0</span><br>    <span class="hljs-comment">//包外不可见常量</span><br>    zero Kai = <span class="hljs-number">0</span><br>)<br><span class="hljs-comment">// 包外可见全局变量</span><br><span class="hljs-keyword">var</span> CtoK Kai = <span class="hljs-number">273.15</span><br><span class="hljs-comment">// 包外不可见全局变量</span><br><span class="hljs-keyword">var</span> ctoK Kai = <span class="hljs-number">0</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(k Kai)</span> <span class="hljs-title">String</span><span class="hljs-params">()</span> <span class="hljs-title">string</span></span> &#123;<br>    <span class="hljs-keyword">return</span> fmt.Sprintf(<span class="hljs-string">"%gK"</span>, k)<br>&#125;<br></code></pre></td></tr></table></figure></p>
<p><strong>ch2/Kaierwen/PaTest.go</strong><br><figure class="highlight Golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs Golang"><span class="hljs-comment">// 不同文件同包测试</span><br><span class="hljs-comment">// 编译器会把该文件的函数编译到一个包内</span><br><span class="hljs-keyword">package</span> Kaierwen<br><br><span class="hljs-comment">// 尽管在另一个文件内已经声明了fmt包，但是在本文件内任然要再次声明调用</span><br><span class="hljs-keyword">import</span> <span class="hljs-string">"fmt"</span><br><br><span class="hljs-comment">// 包内变量的初始化，按照依赖的顺序进行初始化</span><br><span class="hljs-keyword">var</span> a = b + c   <span class="hljs-comment">// 第三个初始化的变量</span><br><span class="hljs-keyword">var</span> b = f()     <span class="hljs-comment">// 第二个初始化的变量</span><br><span class="hljs-keyword">var</span> c = <span class="hljs-number">1</span>     <span class="hljs-comment">// 第一个初始化的变量</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">f</span><span class="hljs-params">()</span> <span class="hljs-title">int</span></span> &#123; <span class="hljs-keyword">return</span> c + <span class="hljs-number">1</span> &#125;<br><br><span class="hljs-keyword">var</span> nums [<span class="hljs-number">256</span>]<span class="hljs-keyword">byte</span>  <span class="hljs-comment">// 已经默认初始化为0了</span><br><br><span class="hljs-comment">// 包内初始化函数，用于初始化复杂变量，如数组等</span><br><span class="hljs-comment">// 其作用相当于Java类内的块函数&#123;&#125;</span><br><span class="hljs-comment">// 和块函数一样，init函数是对外不可见的，因此不能被调用或者引用</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span> &#123;<br>  <span class="hljs-comment">// 当用于数组类型时，可以不用管值，因此可以用省略写法</span><br>  <span class="hljs-keyword">for</span> i := <span class="hljs-keyword">range</span> nums &#123;     <span class="hljs-comment">// 等价于 for i, _ := range nums</span><br>    nums[i] = nums[i / <span class="hljs-number">2</span>] + <span class="hljs-keyword">byte</span>(i &amp; <span class="hljs-number">1</span>)<br>  &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">PaTest</span><span class="hljs-params">()</span></span> &#123;<br>  fmt.Printf(<span class="hljs-string">"This is a package test, a = %d, b = %d, c = %d\n"</span>, a, b, c)<br><br>  fmt.Printf(<span class="hljs-string">"nums : %v\n"</span>, nums)<br>&#125;<br></code></pre></td></tr></table></figure></p>
<h2 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h2><p>我原本以为本章没有很多内容，可以很快就弄完，但是实际上还是花了一些时间才看完弄清的。部分的特性书上没有提及或者并没有详细的给出程序示例或解释（如switch的用法)，我自己在网上搜集，也自己补充了一些理解，仅供参考，如有错误，请联系我，谢谢！</p>
<h2 id="可供参考的资料"><a href="#可供参考的资料" class="headerlink" title="可供参考的资料"></a>可供参考的资料</h2><p><a href="https://studygolang.com/pkgdoc" target="_blank" rel="noopener">Golang标准库文档</a></p>

    </main>
    <footer class="post-footer">
      
      
      <div class="post-tags">
        
        
        
        
        <a class="post-tag button" href="/tags/Golang/" style="background: #fc6423;" rel="tag"><i class="fas fa-tags"></i>Golang</a>
        
        <a class="post-tag button" href="/tags/开发入门/" style="background: #a3bb54;" rel="tag"><i class="fas fa-tags"></i>开发入门</a>
        
        <a class="post-tag button" href="/tags/程序结构/" style="background: #47aaff;" rel="tag"><i class="fas fa-tags"></i>程序结构</a>
        
      </div>
      
    </footer>
  </article>
  
  
<div class="reward" id="reward">
  <p>坚持原创技术分享，您的支持是我前进的动力！</p>
  <button id="reward-button" class="button" disable="enable">打赏</button>
  <div id="qr" class="qr" style="display: none;">
    
    
    
  </div>
</div>


  
  
  <div class="post-nav">
    <div class="post-nav-next post-nav-item">
      
      <a href="/2019/03/04/golang学习笔记ch1/" rel="next" title="Golang学习笔记ch1"><i class="fas fa-angle-left"></i><span class="nav-title">Golang学习笔记ch1</span></a>
      
    </div>
    <div class="post-nav-prev post-nav-item">
      
    </div>
  </div>
  
  
  

<div class="comments" id="comments">
  
  
  <div class="commentjs" id="comment-thread"></div>
  <link rel="stylesheet" href="/css/commentjs.css">
  <script defer type="text/javascript" src="/js/marked.min.js"></script>
  <script defer type="text/javascript" src="/js/timeago.min.js"></script>
  <script defer type="text/javascript" src="/js/highlight.min.js"></script>
  <script defer type="text/javascript" src="/js/commentjs.js"></script>
  <script type="text/javascript">
  $(document).ready(function () {
    getComments({
      "type": "github",
      "user": "JackZxj",
      "repo": "jackzhang.github-io",
      "client_id": "305140c96dccb0182657",
      "client_secret": "cbd975d0c1a3a2cb86038d3d12a693e69fb7a219",
      "no_comment": "这个页面还没有评论，现在就去评论吧！",
      "go_to_comment": "去评论",
      "issue_title": "Golang学习笔记ch2",
      "btn_class": "button",
      "comments_target": "#comment-thread"
    });
    marked.setOptions({
      "highlight": function (code, lang) {
        return hljs.highlightAuto(code).value;
      }
    });
    function mark() {
      var markdowns = document.getElementsByClassName("markdown");
      for (var i = 0; i < markdowns.length; ++i){
        if (markdowns[i].innerHTML) {
          markdowns[i].innerHTML = marked(markdowns[i].innerHTML);
        }
      }
    }
    window.addEventListener("DOMContentLoaded", mark, false);
    window.addEventListener("load", mark, false);
  });
  </script>
  
  
</div>



  
</div>

          </div>
          
          
          
<aside class="sidebar" id="sidebar" style="background: url(/images/sidebar_background.png);">
  
  <div class="search">
    <div class="form-group">
      <i class="fas fa-search"></i><input type="search" id="search-input" name="q" results="0" placeholder="搜索" class="form-control">
    </div>
  </div>
  <div class="search-result-box" id="search-result"></div>
  
  
<div class="info sidebar-item" id="info">
  
  <img class="author-avatar" src="/images/myavatar.png" alt="Jack Zhang">
  
  <h1 class="author-name">Jack Zhang</h1>
  <h2 class="author-description"> I am the bone of salted fish, <br> fish is my body&salt is my blood.</h2>
  <div class="site-count">
    
    <div class="archives-count">
      <div class="site-count-title">归档</div>
      <div><a href="/archives/">18</a></div>
    </div>
    
    
    
    <span class="site-count-divider divider">|</span>
    
    <div class="categories-count">
      <div class="site-count-title">分类</div>
      <div><a href="/categories/">12</a></div>
    </div>
    
    
    
    <span class="site-count-divider divider">|</span>
    
    <div class="tags-count">
      <div class="site-count-title">标签</div>
      <div><a href="/tags/">29</a></div>
    </div>
    
  </div>
  
  <div class="rss">
    <a class="rss-link button sidebar-item" href="/atom.xml"><i class="fas fa-rss"></i>RSS</a>
  </div>
  
</div>


  <div class="sidebar-sticky">
    
    




<hr>
<div class="post-toc sidebar-item" id="toc-div">
  <div><i class="fas fa-list-ol"></i>文章目录</div>
  <div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#ch2-程序结构"><span class="toc-text">ch2 程序结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#代码"><span class="toc-text">代码</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#结语"><span class="toc-text">结语</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#可供参考的资料"><span class="toc-text">可供参考的资料</span></a></li></ol></div>
</div>



    
    
    
<hr>
<div class="social-link sidebar-item">
  <div><i class="far fa-address-card"></i>社交链接<p></p></div>
  <ul>
    
    <li><i class="fas fa-envelope"></i><a href="mailto:x_jackzhang@qq.com" target="_blank">E-Mail</a></li>
    
    <li><i class="fab fa-github"></i><a href="https://github.com/JackZxj" target="_blank">GitHub</a></li>
    
  </ul>
</div>


    
    
    
<hr>
<div class="blogroll sidebar-item">
  <div><i class="fas fa-link"></i>友情链接</div>
  <ul>
    
    <li><a href="https://github.com/" target="_blank">GitHub</a></li>
    
    <li><a href="https://sh.alynx.xyz/" target="_blank">模板作者~</a></li>
    
  </ul>
</div>


    
  </div>
</aside>


          
        </div>
      </div>
    </main>
    
<footer id="footer" class="footer" style="background: #33363b;">
  <div class="container">
    <div class="back-to-top">
      <a id="back-to-top"><i class="fas fa-angle-double-up"></i></a>
    </div>
    <div class="footer-container">
      <div class="footer-left">
        <div class="copyright">
          <span class="author">Jack Zhang</span><span class="year"><i class="far fa-copyright"></i>2018 - 2019</span>
        </div>
        
        
<div class="busuanzi">
  <span id="busuanzi_container_site_pv"><i class="fas fa-eye"></i><span id="busuanzi_value_site_pv"></span></span><span id="busuanzi_container_site_uv"><i class="fas fa-user"></i><span id="busuanzi_value_site_uv"></span></span><span id="busuanzi_container_page_pv"><i class="far fa-file-alt"></i><span id="busuanzi_value_page_pv"></span></span>
</div>


        
      </div>
      <div class="footer-right">
        <div class="custom-info">
          
          托管于<i class="fab fa-github-alt"></i><a href="https://pages.github.com/" target="_blank">GitHub Pages</a>
          
        </div>
        <div class="powered-by">
          由 <a href="https://hexo.io/" target="_blank">Hexo</a> 强力驱动 | 主题 <a href="https://github.com/AlynxZhou/hexo-theme-aria/" target="_blank">ARIA</a>
        </div>
      </div>
    </div>
  </div>
</footer>


  <script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/koharu.model.json"},"display":{"position":"left","width":200,"height":400,"hOffset":150,"vOffset":-80},"mobile":{"show":true},"react":{"opacityDefault":0.5,"opacityOnHover":0.9},"log":false});</script></body>
</html>
